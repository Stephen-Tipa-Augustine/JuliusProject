{% extends 'main/base.html' %}
{% load static %}

{% block title %}
 Categories
{% endblock %}

{% block pageHeading %}
 <h1 style="color: red">Business Categories</h1>
{% endblock %}

{% block mainContent %}
<!-- Categories Area Start -->
        <div class="categories-area section-padding30" id="categories">
            <div class="container">
                <div class="row">
                    <div class="col-lg-12">
                        <!-- Section Tittle -->
                        <div class="section-tittle text-center mb-80">
                            <span>Explore this out</span>
                            <h2>Featured Categories</h2>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-4 col-md-6 col-sm-6">
                        <div class="single-cat text-center mb-50">
                            <div class="cat-icon">
                                <span class="flaticon-bed"></span>
                                <a href="#"> <img src="{% static 'img/gallery/hero_category1.png' %}" alt=""></a>
                            </div>
                            <div class="cat-cap">
                                <h5><a class="category-content" href="#category-content">Service Business</a></h5>
                                <p>Must explain you this, click the below Link: View Details</p>
                                <a onclick="viewCategory('Service Business')" class="btn-info" href="#category-content">View Details</a>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-6 col-sm-6">
                        <div class="single-cat text-center mb-50">
                            <div class="cat-icon">
                                <span class="flaticon-drink"></span>
                                <a href="#"> <img src="{% static 'img/gallery/hero_category2.png' %}" alt=""></a>
                            </div>
                            <div class="cat-cap">
                                <h5><a class="category-content" href="#category-content">Merchandising Business</a></h5>
                                <p>Must explain you this, click the below Link: View Details</p>
                                <a onclick="viewCategory('Merchandising Business')" class="btn-info" href="#category-content">View Details</a>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-6 col-sm-6">
                        <div class="single-cat text-center mb-50">
                            <div class="cat-icon">
                                <span class="flaticon-home"></span>
                                <a href="#"> <img src="{% static 'img/gallery/hero_category3.png' %}" alt=""></a>
                            </div>
                            <div class="cat-cap">
                                <h5><a class="category-content" href="#category-content">Manufacturing Business</a></h5>
                                <p>Must explain you this, click the below Link: View Details</p>
                                <a onclick="viewCategory('Manufacturing Business')" class="btn-info" href="#category-content">View Details</a>
                            </div>
                        </div>
                    </div>

                 </div>
            </div>
        </div>
        <!-- Categories Area End -->

    <!--Category contents starts here-->
    <div class="category-listing" id="category-content" style="display: none">
    <div class="popular-location section-padding30">
            <div class="container">
                <div class="row">
                    <div class="col-lg-12">
                        <!-- Section Tittle -->
                        <div class="section-tittle text-center mb-80">
                            <span>Viewing Businesses in Category,</span>
                            <h2 id="category-heading">Category name</h2>
                        </div>
                    </div>
                </div>
                {% for key, category in category_content.items %}
                    <div id="{{ key }}" style="display:none;">
                        <div class="row">
                    {% if category|length == 0 %}
                        <div class="col-12">
                        <h3 style="text-align: center"><strong>Sorry!<br>This category has no entries yet.</strong></h3>
                        </div>
                    {% else %}
                        {% for list in category %}
                        <div class="col-lg-4 col-md-6 col-sm-6">
                        <div class="single-location mb-30">
                            <div class="location-img">
                                <img src="{{ list.logo.url }}" alt="">
                            </div>
                            <div class="location-details">
                                <p>{{ list.name }}</p>
                                <a href="#" class="location-btn">65 <i class="ti-plus"></i>{{ list.location }}</a>
                            </div>
                        </div>
                        </div>
                        {% endfor %}
                    {% endif %}
                    </div>
                        <!-- More Btn -->
                        <div class="row justify-content-center">
                            <div class="room-btn pt-20">
                                <a onclick="closeCategory('{{ key }}')" href="#categories" class="btn view-btn1">Close Category Content</a>
                            </div>
                        </div>
                    </div>
                {% endfor %}
            </div>
        </div>
    </div>

    <script>
    function viewCategory(categoryName) {
        let container = document.getElementById("category-content");
        let category = document.getElementById("category-heading");
        let listContainer = document.getElementById(categoryName);
        listContainer.style.display = 'block';
        category.textContent = categoryName;
        container.style.display = "block";
    }

    function closeCategory(categoryName) {
        let container = document.getElementById("category-content");
        let listContainer = document.getElementById(categoryName);
        listContainer.style.display = 'none';
        container.style.display = "none";
    }
    </script>
    <!--Category contents stops here-->
{% endblock %}
